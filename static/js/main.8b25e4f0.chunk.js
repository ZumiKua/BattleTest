(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(45)},37:function(e,t,a){},38:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n,i=a(0),s=a.n(i),r=a(27),l=a.n(r),o=(a(37),a(38),a(3)),c=a(4),u=a(9),d=a(7),h=a(1),p=a(8),m=a(2),v=a(14),b=a(5);!function(e){e[e.Fire=0]="Fire",e[e.Water=1]="Water",e[e.Earth=2]="Earth",e[e.Wind=3]="Wind",e[e.Electric=4]="Electric"}(n||(n={}));var g,f,E=a(28);function k(e){var t=e.label,a=Object(E.a)(e,["label"]);return s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-label"},s.a.createElement("label",{className:"label"},t)),s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",Object.assign({className:"input"},a))))))}var C=(g={},Object(b.a)(g,n.Earth,"\u5730"),Object(b.a)(g,n.Electric,"\u7535"),Object(b.a)(g,n.Fire,"\u706b"),Object(b.a)(g,n.Water,"\u6c34"),Object(b.a)(g,n.Wind,"\u98ce"),g),y=(f={},Object(b.a)(f,n.Earth,"fa-mountain"),Object(b.a)(f,n.Electric,"fa-bolt"),Object(b.a)(f,n.Fire,"fa-fire"),Object(b.a)(f,n.Water,"fa-tint"),Object(b.a)(f,n.Wind,"fa-wind"),f),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleDpChange=a.handleDpChange.bind(Object(h.a)(a)),a.handleNameChange=a.handleNameChange.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleDpChange",value:function(e){this.props.onBattlerChanged(Object(m.a)({},this.props.battler,{dp:Number.parseInt(e.target.value)}))}},{key:"handleNameChange",value:function(e){this.props.onBattlerChanged(Object(m.a)({},this.props.battler,{name:e.target.value}))}},{key:"handleAttributeChange",value:function(e,t){var a=Object(m.a)({},this.props.battler.attributeResistances,Object(b.a)({},e,Number.parseInt(t.target.value)));this.props.onBattlerChanged(Object(m.a)({},this.props.battler,{attributeResistances:a}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"battler-info-view"},s.a.createElement(k,{label:"DP:",type:"number",onChange:this.handleDpChange,value:this.props.battler.dp}),s.a.createElement(k,{label:"\u540d\u79f0:",type:"text",onChange:this.handleNameChange,value:this.props.battler.name}),s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-label"},s.a.createElement("label",{className:"label"},"\u6297\u6027")),s.a.createElement("div",{className:"field-body"},[n.Earth,n.Electric,n.Fire,n.Water,n.Wind].map(function(t){return s.a.createElement("div",{className:"field",key:t},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{type:"number",className:"input",value:e.props.battler.attributeResistances[t],onChange:e.handleAttributeChange.bind(e,t),placeholder:C[t]}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas "+y[t]}))))}))),s.a.createElement("div",{className:"is-grouped-right is-grouped field"},s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button is-danger",onClick:this.props.onBattlerDeleted},"\u5220\u9664"))))}}]),t}(s.a.Component),N=function(){function e(t,a,n,i){Object(o.a)(this,e),this.maxDp=void 0,this.dp=void 0,this.attributeResistances=void 0,this.side=void 0,this.currentAttribute=void 0,this.weakState=void 0,this.thisTurnDpDamaged=void 0,this.position=void 0,this.name=void 0,this.id=void 0,this.defence=void 0,this.position=n,this.side=t,this.dp=a.dp,this.maxDp=a.dp,this.attributeResistances=a.attributeResistances,this.currentAttribute={attribute:null,point:0},this.weakState=!1,this.thisTurnDpDamaged=!1,this.name=a.name,this.id=i,this.defence=0}return Object(c.a)(e,[{key:"getCurrentAttribute",value:function(){return this.currentAttribute.attribute}},{key:"getAttributePoint",value:function(){return this.currentAttribute.point}},{key:"applyAttributeDamage",value:function(e,t){var a={dpDamage:0,attributePointAttached:0,knockedIntoWeak:!1,attribute:null};if(this.weakState&&!this.thisTurnDpDamaged&&e===this.currentAttribute.attribute&&(a.dpDamage=1,this.dp-=1,this.thisTurnDpDamaged=!0),this.weakState)return a;a.attribute=e,a.attributePointAttached=t,this.currentAttribute.attribute===e?this.currentAttribute.point+=t:(this.currentAttribute.attribute=e,this.currentAttribute.point=t);var n=this.attributeResistances[e];return 0!==n&&n<=this.currentAttribute.point&&(this.weakState=!0,this.currentAttribute.point=0,a.knockedIntoWeak=!0),a}},{key:"applyDpRecovery",value:function(e){var t=this.dp;return this.dp+=e,this.dp>=this.maxDp&&(this.dp=this.maxDp),this.dp<0&&(this.dp=0),this.dp-t}},{key:"applyDefenceIncrease",value:function(e){return this.defence+=e,console.log(this,e),e}},{key:"applyHpDamage",value:function(e){var t;return this.defence<e?(t=this.defence,e-=this.defence,this.defence=0):(this.defence-=e,t=e,e=0),Object(m.a)({},this.side.applyHpDamage(e),{defended:t})}},{key:"onTurnStart",value:function(){this.thisTurnDpDamaged&&(this.weakState=!1),this.thisTurnDpDamaged=!1,this.defence=0}},{key:"isDead",value:function(){return this.dp<=0}},{key:"isWeakState",value:function(){return this.weakState}}]),e}();function O(e,t){return 2*e+t}function A(e){var t=e.isLeft?[0,1]:[1,0];return s.a.createElement("div",null,s.a.createElement("table",{className:"battler-position-view"},s.a.createElement("tbody",null,[0,1,2].map(function(a){return s.a.createElement("tr",{key:a},0!==a||e.isLeft?null:s.a.createElement("td",{rowSpan:3,className:"frontline"},"\u524d\u7ebf"),t.map(function(t){var n=O(a,t),i=e.battlerPositions[n],r=void 0===i?"unselect":i.toString();return s.a.createElement("td",{key:t,align:"center"},s.a.createElement("div",{className:"select"},s.a.createElement("select",{value:r,onChange:function(t){return function(t,a){var n="unselect"===a.target.value?void 0:parseInt(a.target.value);e.onBattlerPositionChanged(t,n)}(n,t)}},s.a.createElement("option",{value:"unselect"}),e.battlers.map(function(e){return s.a.createElement("option",{key:e.id,value:e.id.toString()},e.name)}))))}),0===a&&e.isLeft?s.a.createElement("td",{rowSpan:3,className:"frontline"},"\u524d\u7ebf"):null)}))))}var j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).maxBattlerId=void 0,a.handleHpChange=a.handleHpChange.bind(Object(h.a)(a)),a.handleSpChange=a.handleSpChange.bind(Object(h.a)(a)),a.addBattler=a.addBattler.bind(Object(h.a)(a)),a.maxBattlerId=0,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleHpChange",value:function(e){this.props.onSideChanged(Object(m.a)({},this.props.side,{hp:Number.parseInt(e.target.value)}))}},{key:"handleSpChange",value:function(e){this.props.onSideChanged(Object(m.a)({},this.props.side,{sp:Number.parseInt(e.target.value)}))}},{key:"handleBattlerChanged",value:function(e,t){var a=Object(v.a)(this.props.side.battlers),n=a.findIndex(function(t){return t.id===e});a[n]=t,this.props.onSideChanged(Object(m.a)({},this.props.side,{battlers:a}))}},{key:"addBattler",value:function(){var e,t=Object(v.a)(this.props.side.battlers),a={dp:0,name:"",attributeResistances:(e={},Object(b.a)(e,n.Earth,0),Object(b.a)(e,n.Electric,0),Object(b.a)(e,n.Fire,0),Object(b.a)(e,n.Water,0),Object(b.a)(e,n.Wind,0),e),id:this.maxBattlerId++};t.push(a),this.props.onSideChanged(Object(m.a)({},this.props.side,{battlers:t}))}},{key:"deleteBattler",value:function(e){var t=this.props.side.battlers.filter(function(t){return t.id!==e}),a=this.props.side.battlerPositions;for(var n in a)a[n]===e&&(a[n]=void 0);this.props.onSideChanged(Object(m.a)({},this.props.side,{battlers:t,battlerPositions:a}))}},{key:"onBattlerPositionChanged",value:function(e,t){var a=Object(m.a)({},this.props.side.battlerPositions,Object(b.a)({},e,t));console.log(a),this.props.onSideChanged(Object(m.a)({},this.props.side,{battlerPositions:a}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"side-info-view"},s.a.createElement(k,{label:"HP:",className:"input",type:"number",onChange:this.handleHpChange,value:this.props.side.hp}),s.a.createElement(k,{label:"AP:",className:"input",type:"number",onChange:this.handleSpChange,value:this.props.side.sp}),s.a.createElement("div",{className:"battlers-view"},s.a.createElement("label",{className:"label"},"\u89d2\u8272\uff1a"),this.props.side.battlers.map(function(t){return s.a.createElement(S,{isLeft:e.props.isLeft,battler:t,onBattlerChanged:e.handleBattlerChanged.bind(e,t.id),onBattlerDeleted:function(){return e.deleteBattler(t.id)},key:t.id})}),s.a.createElement("button",{className:"button",onClick:this.addBattler},"\u6dfb\u52a0\u89d2\u8272")),s.a.createElement(A,{battlers:this.props.side.battlers,battlerPositions:this.props.side.battlerPositions,isLeft:this.props.isLeft,onBattlerPositionChanged:function(t,a){return e.onBattlerPositionChanged(t,a)}})))}}]),t}(s.a.Component),D=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onAttributeChanged=a.onAttributeChanged.bind(Object(h.a)(a)),a.onAttributeDamageChanged=a.onAttributeDamageChanged.bind(Object(h.a)(a)),a.onHpDamageChanged=a.onHpDamageChanged.bind(Object(h.a)(a)),a.onSpCostChanged=a.onSpCostChanged.bind(Object(h.a)(a)),a.onNameChanged=a.onNameChanged.bind(Object(h.a)(a)),a.onDpRecoveryChanged=a.onDpRecoveryChanged.bind(Object(h.a)(a)),a.onSpRecoveryChanged=a.onSpRecoveryChanged.bind(Object(h.a)(a)),a.onDefenceIncreaseChanged=a.onDefenceIncreaseChanged.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onAttributeChanged",value:function(e){var t=Object(m.a)({},this.props.action,{attribute:Number.parseInt(e.target.value)});this.props.onActionChanged(t)}},{key:"onHpDamageChanged",value:function(e){var t=Object(m.a)({},this.props.action,{hpDamage:Number.parseInt(e.target.value)});this.props.onActionChanged(t)}},{key:"onSpCostChanged",value:function(e){var t=Object(m.a)({},this.props.action,{spCost:Number.parseInt(e.target.value)});this.props.onActionChanged(t)}},{key:"onAttributeDamageChanged",value:function(e){var t=Object(m.a)({},this.props.action,{attributeDamage:Number.parseInt(e.target.value)});this.props.onActionChanged(t)}},{key:"onNameChanged",value:function(e){var t=Object(m.a)({},this.props.action,{name:e.target.value});this.props.onActionChanged(t)}},{key:"onDpRecoveryChanged",value:function(e){var t=Object(m.a)({},this.props.action,{dpRecovery:Number.parseInt(e.target.value)});this.props.onActionChanged(t)}},{key:"onSpRecoveryChanged",value:function(e){var t=Object(m.a)({},this.props.action,{spRecovery:Number.parseInt(e.target.value)});this.props.onActionChanged(t)}},{key:"onDefenceIncreaseChanged",value:function(e){var t=Object(m.a)({},this.props.action,{defenceIncrease:Number.parseInt(e.target.value)});this.props.onActionChanged(t)}},{key:"render",value:function(){return s.a.createElement("div",{className:"action-view"},s.a.createElement(k,{label:"\u540d\u79f0",type:"text",value:this.props.action.name,onChange:this.onNameChanged}),s.a.createElement(k,{label:"HP\u4f24\u5bb3",type:"number",value:this.props.action.hpDamage,onChange:this.onHpDamageChanged}),s.a.createElement(k,{label:"AP\u6d88\u8017",type:"number",value:this.props.action.spCost,onChange:this.onSpCostChanged}),s.a.createElement(k,{label:"\u5c5e\u6027\u4f24\u5bb3",type:"number",value:this.props.action.attributeDamage,onChange:this.onAttributeDamageChanged}),s.a.createElement(k,{label:"DP\u56de\u590d",type:"number",value:this.props.action.dpRecovery,onChange:this.onDpRecoveryChanged}),s.a.createElement(k,{label:"AP\u56de\u590d",type:"number",value:this.props.action.spRecovery,onChange:this.onSpRecoveryChanged}),s.a.createElement(k,{label:"\u9632\u5fa1\u503c\u589e\u52a0",type:"number",value:this.props.action.defenceIncrease,onChange:this.onDefenceIncreaseChanged}),s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-label is-normal"},s.a.createElement("label",{className:"label"},"\u5c5e\u6027")),s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("div",{className:"select is-fullwidth"},s.a.createElement("select",{onChange:this.onAttributeChanged,value:this.props.action.attribute},s.a.createElement("option",{value:n.Earth},"\u571f"),s.a.createElement("option",{value:n.Electric},"\u7535"),s.a.createElement("option",{value:n.Fire},"\u706b"),s.a.createElement("option",{value:n.Water},"\u6c34"),s.a.createElement("option",{value:n.Wind},"\u98ce"))))))),s.a.createElement("div",{className:"is-grouped-right is-grouped field"},s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button is-danger",onClick:this.props.onActionDeleted},"\u5220\u9664"))))}}]),t}(s.a.Component);function _(e){return s.a.createElement("div",{className:"modal is-active"},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"\u8bfb\u53d6\u5b58\u6863"),s.a.createElement("button",{className:"delete","aria-label":"close",onClick:e.onClosed})),s.a.createElement("section",{className:"modal-card-body"},s.a.createElement("div",{className:"content"},s.a.createElement("ol",null,e.saves.map(function(t,a){return s.a.createElement("li",{className:"load-name",key:a,onClick:function(){return e.onLoad(t)}},s.a.createElement("span",null,t)," ",s.a.createElement("button",{className:"delete",onClick:function(a){e.onDelete(t),a.stopPropagation()}}))}))))))}var R=a(18),w="_saveMetaItem_V4",I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).maxActionId=void 0,a.state={side:{hp:0,sp:0,battlers:[],battlerPositions:{}},side2:{hp:0,sp:0,battlers:[],battlerPositions:{}},actions:[],loadShowing:!1,saves:[],currentPage:"sides"},a.maxActionId=0,a.handleSideChanged=a.handleSideChanged.bind(Object(h.a)(a)),a.handleSide2Changed=a.handleSide2Changed.bind(Object(h.a)(a)),a.onAddAction=a.onAddAction.bind(Object(h.a)(a)),a.onComplete=a.onComplete.bind(Object(h.a)(a)),a.migrateSaveV2_TO_V3(),a.migrateSaveV3_TO_V4(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleSideChanged",value:function(e){this.setState({side:e})}},{key:"handleSide2Changed",value:function(e){this.setState({side2:e})}},{key:"onActionChanged",value:function(e,t){this.setState(function(a){var n=Object(v.a)(a.actions),i=n.findIndex(function(t){return t.id===e});return n[i]=Object(m.a)({},n[i],{data:t}),{actions:n}})}},{key:"onAddAction",value:function(){var e=this;this.setState(function(t){var a=Object(v.a)(t.actions);return a.push({id:e.maxActionId++,data:{hpDamage:0,spCost:0,attribute:n.Earth,attributeDamage:0,name:"",spRecovery:0,dpRecovery:0,defenceIncrease:0}}),{actions:a}})}},{key:"onRemoveAction",value:function(e){this.setState(function(t){var a=Object(v.a)(t.actions),n=a.findIndex(function(t){return t.id===e});return-1!==n&&a.splice(n,1),{actions:a}})}},{key:"onComplete",value:function(){this.props.onComplete(this.state.side,this.state.side2,this.state.actions.map(function(e){return e.data}))}},{key:"onSave",value:function(){var e=window.prompt("\u5b58\u6863\u540d\u79f0\uff08\u540c\u540d\u4f1a\u81ea\u52a8\u8986\u76d6\uff09",(new Date).toLocaleString());if(null!==e&&""!==(e=e.trim()))if(e!==w&&"_saveMetaItem_V2"!==e){var t,a=JSON.stringify({side:this.state.side,side2:this.state.side2,actions:this.state.actions.map(function(e){return e.data})}),n=localStorage.getItem(w);if(-1!==(t=null===n?[]:JSON.parse(n)).findIndex(function(t){return t===e})){if(!1===window.confirm("\u5b58\u5728\u540c\u540d\u5b58\u6863\uff0c\u662f\u5426\u8986\u76d6\uff1f"))return}else t.push(e);localStorage.setItem(w,JSON.stringify(t)),localStorage.setItem(e,a)}else window.alert("\u975e\u6cd5\u540d\u79f0")}},{key:"migrateSave",value:function(e,t,a){var n=localStorage.getItem(e);if(null!==n){var i=JSON.parse(n),s=[],r=!0,l=!1,o=void 0;try{for(var c,u=i[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var d=c.value,h=localStorage.getItem(d);if(null!==h){var p=JSON.parse(h);p=a(p),s.push(d),localStorage.setItem(d,JSON.stringify(p))}}}catch(E){l=!0,o=E}finally{try{r||null==u.return||u.return()}finally{if(l)throw o}}localStorage.removeItem(e);var m=localStorage.getItem(t),v=[];null!==m&&(v=JSON.parse(m));for(var b=0,g=s;b<g.length;b++){var f=g[b];-1===v.indexOf(f)&&v.push(f)}localStorage.setItem(w,JSON.stringify(v))}}},{key:"migrateSaveV3_TO_V4",value:function(){var e=function(e){var t={},a=!0,n=!1,i=void 0;try{for(var s,r=e.battlers[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var l=s.value;t[l.position]=l.id,delete l.position}}catch(o){n=!0,i=o}finally{try{a||null==r.return||r.return()}finally{if(n)throw i}}e.battlerPositions=t};this.migrateSave("_saveMetaItem_V3",w,function(t){return e(t.side),e(t.side2),t})}},{key:"migrateSaveV2_TO_V3",value:function(){this.migrateSave("_saveMetaItem_V2","_saveMetaItem_V3",function(e){return e.actions.forEach(function(e){delete e.targetArea}),e})}},{key:"onLoad",value:function(){var e=localStorage.getItem(w);if(null!==e){var t=JSON.parse(e);0!==t.length?this.setState({loadShowing:!0,saves:t}):alert("\u65e0\u5b58\u6863")}else alert("\u65e0\u5b58\u6863")}},{key:"onLoadCanceled",value:function(){this.setState({loadShowing:!1})}},{key:"onDeleteSave",value:function(e){var t=localStorage.getItem(w);if(null===t)return alert("\u8bfb\u53d6\u9519\u8bef\uff01"),void this.setState({loadShowing:!1});var a=JSON.parse(t),n=a.indexOf(e);if(-1===n)return alert("\u8bfb\u53d6\u9519\u8bef\uff01"),void this.setState({loadShowing:!1});a.splice(n,1),localStorage.setItem(w,JSON.stringify(a)),localStorage.removeItem(e),0===a.length?this.setState({loadShowing:!1,saves:a}):this.setState({loadShowing:!0,saves:a})}},{key:"onLoadSelected",value:function(e){var t=this,a=localStorage.getItem(e);if(null===a)return alert("\u8bfb\u53d6\u9519\u8bef\uff01"),void this.setState({loadShowing:!1});var n=JSON.parse(a);this.setState({loadShowing:!1,side:n.side,side2:n.side2,actions:n.actions.map(function(e){return{id:t.maxActionId++,data:e}})})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"tabs"},s.a.createElement("ul",null,s.a.createElement("li",{className:"sides"===this.state.currentPage?"is-active":""},s.a.createElement("a",{onClick:function(t){t.preventDefault(),e.setState({currentPage:"sides"})}},"\u89d2\u8272")),s.a.createElement("li",{className:"actions"===this.state.currentPage?"is-active":""},s.a.createElement("a",{onClick:function(t){t.preventDefault(),e.setState({currentPage:"actions"})}},"\u884c\u4e3a")))),"sides"===this.state.currentPage?s.a.createElement("div",{className:"sides-view"},s.a.createElement("div",{className:"columns edit-view-troop-headers"},s.a.createElement("div",{className:"column edit-view-troop-header red"},s.a.createElement("p",null,"\u7ea2\u65b9")),s.a.createElement("div",{className:"column edit-view-troop-header blue"},s.a.createElement("p",null,"\u84dd\u65b9"))),s.a.createElement("div",{className:"columns side-info-views"},s.a.createElement(j,{side:this.state.side,onSideChanged:this.handleSideChanged,isLeft:!0}),s.a.createElement(j,{side:this.state.side2,onSideChanged:this.handleSide2Changed,isLeft:!1}))):null,"actions"===this.state.currentPage?s.a.createElement("div",{className:"actions-view"},this.state.actions.map(function(t){return s.a.createElement(D,{action:t.data,onActionChanged:e.onActionChanged.bind(e,t.id),key:t.id,onActionDeleted:function(){return e.onRemoveAction(t.id)}})}),s.a.createElement("div",{className:"field"},s.a.createElement("button",{className:"button",onClick:this.onAddAction},"\u6dfb\u52a0"))):null,s.a.createElement("div",{className:"footer-view field is-grouped"},s.a.createElement("p",{className:"control"},s.a.createElement(R.b,{className:"button is-primary",to:"/battle",onClick:this.onComplete},"\u5b8c\u6210")),s.a.createElement("p",{className:"control"},s.a.createElement("button",{className:"button",onClick:function(){return e.onSave()}},"\u4fdd\u5b58")),s.a.createElement("p",{className:"control"},s.a.createElement("button",{className:"button",onClick:function(){return e.onLoad()}},"\u8bfb\u53d6")))),this.state.loadShowing?s.a.createElement(_,{saves:this.state.saves,onClosed:function(){return e.onLoadCanceled()},onLoad:function(t){return e.onLoadSelected(t)},onDelete:function(t){return e.onDeleteSave(t)}}):null)}}]),t}(s.a.Component),P=a(17),B=function(){function e(t){var a=this;Object(o.a)(this,e),this.opponent=void 0,this.damageMultiplier=void 0,this.thisActionDamageMultiplier=void 0,this.damageMultiplierDelta=void 0,this.battlers=void 0,this.hp=void 0,this.sp=void 0,this.battlers=Object.entries(t.battlerPositions).map(function(e,n){var i=Object(P.a)(e,2),s=i[0],r=i[1];return new N(a,t.battlers.find(function(e){return e.id===r}),parseInt(s),n)}),console.log(t.battlerPositions,t.battlers),console.log(this.battlers),this.damageMultiplier=1,this.thisActionDamageMultiplier=1,this.damageMultiplierDelta=.2,this.opponent=null,this.hp=t.hp,this.sp=t.sp}return Object(c.a)(e,[{key:"getBattler",value:function(e){var t=2*e[0]+e[1];return this.battlers.find(function(e){return e.position===t})}},{key:"setOpponent",value:function(e){this.opponent=e}},{key:"applyHpDamage",value:function(e){return this.hp-=e,this.hp<0&&(this.hp=0),{hpDamage:e,isDead:0===this.hp}}},{key:"applySpRecovery",value:function(e){var t=this.sp;return this.sp+=e,this.sp>=10&&(this.sp=10),this.sp<0&&(this.sp=0),this.sp-t}},{key:"onDamageWeakState",value:function(e){var t={multiplierAdded:this.damageMultiplierDelta};return this.thisActionDamageMultiplier+=this.damageMultiplierDelta,this.damageMultiplierDelta+=.2,t}},{key:"onActionEnd",value:function(){this.damageMultiplier=this.thisActionDamageMultiplier}},{key:"onTurnStart",value:function(){this.damageMultiplier=1,this.thisActionDamageMultiplier=1,this.damageMultiplierDelta=.2,this.battlers.forEach(function(e){return e.onTurnStart()}),this.sp<=3&&(this.sp=3)}},{key:"getDisplayDamageMultiplier",value:function(){return this.thisActionDamageMultiplier}}]),e}(),M=function(){function e(t,a,n,i){Object(o.a)(this,e),this.user=void 0,this.targets=void 0,this.data=void 0,this.id=void 0,this.attack=void 0,this.targetPoints=void 0,this.data=t,this.targets=null,this.attack=null,this.user=a,this.targetPoints=n,this.id=i}return Object(c.a)(e,[{key:"canUse",value:function(){return!this.user.isDead()}},{key:"fetchBattlers",value:function(e,t){return t.map(function(t){return e.getBattler((a=t,[Math.floor(a/2),a%2]));var a}).filter(function(e){return void 0!==e})}},{key:"step",value:function(){if(!this.canUse())return!1;if(null===this.targets&&(this.targets=[].concat(Object(v.a)(this.fetchBattlers(this.user.side,this.targetPoints.self)),Object(v.a)(this.fetchBattlers(this.user.side.opponent,this.targetPoints.opponent)))),0===this.targets.length)return this.user.side.onActionEnd(),!1;var e=this.targets.shift();return this.attack=new x(this.user,e,this),!0}},{key:"getCurrentAttack",value:function(){return this.attack}}]),e}(),x=function e(t,a,n){Object(o.a)(this,e),this.user=void 0,this.target=void 0,this.action=void 0,this.hpDamageResult=void 0,this.spRecoveryResult=void 0,this.dpRecoveryResult=void 0,this.defenceIncreaseResult=void 0,this.damageMultiplierResult=void 0,this.attributeDamageResult=void 0,this.user=t,this.target=a,this.action=n;var i=this.user.side.damageMultiplier*this.action.data.hpDamage;this.hpDamageResult=this.target.applyHpDamage(i),this.damageMultiplierResult=null,this.spRecoveryResult=this.target.side.applySpRecovery(this.action.data.spRecovery),this.dpRecoveryResult=this.target.applyDpRecovery(this.action.data.dpRecovery),this.defenceIncreaseResult=this.target.applyDefenceIncrease(this.action.data.defenceIncrease),this.action.data.attribute===this.target.getCurrentAttribute()&&this.target.isWeakState()&&(this.damageMultiplierResult=this.user.side.onDamageWeakState(this.action)),this.attributeDamageResult=this.target.applyAttributeDamage(this.action.data.attribute,this.action.data.attributeDamage)},T=a(46),V=function(){function e(t,a){Object(o.a)(this,e),this._sideA=void 0,this._sideB=void 0,this._actions=void 0,this._phase=void 0,this._inputtingPhase=void 0,this._actionResults=void 0,this.currentProcessingAction=void 0,this._inputtingAction=void 0,this._currentInputtingBattler=void 0,this._nextActionId=void 0,this._sideA=new B(t),this._sideB=new B(a),this._sideA.setOpponent(this._sideB),this._sideB.setOpponent(this._sideA),this._actions=new T.a([]),this._phase=new T.a(void 0),this._inputtingPhase=new T.a(void 0),this._actionResults=new T.a([]),this._actions.next([]),this._actionResults.next([]),this.currentProcessingAction=void 0,this.startTurn(),this._nextActionId=0}return Object(c.a)(e,[{key:"addAction",value:function(e){return this.checkInputting("decideAction"),!(e.spCost>this._currentInputtingBattler.side.sp)&&(this._inputtingAction=e,this._inputtingPhase.next("decideTarget"),!0)}},{key:"setTargets",value:function(e){var t;this._inputtingAction.spCost<=this._currentInputtingBattler.side.sp&&(this._currentInputtingBattler.side.sp-=this._inputtingAction.spCost,t=this._currentInputtingBattler.side===this.sideA?{self:e.left,opponent:e.right}:{self:e.right,opponent:e.left},this._actions.value.push(new M(this._inputtingAction,this._currentInputtingBattler,t,this._nextActionId)),++this._nextActionId);this._inputtingPhase.next("decideBattler")}},{key:"selectBattler",value:function(e){this.checkInputting("decideBattler"),this._currentInputtingBattler=e,this._inputtingPhase.next("decideAction")}},{key:"checkInputting",value:function(e){if("inputting"!==this._phase.value)throw new Error("phase must be inputting");if(this._inputtingPhase.value!==e)throw new Error("inputting phase must be "+e)}},{key:"endInputting",value:function(){this._phase.next("processing"),this._inputtingPhase.next(void 0),this._actionResults.value.length=0,this._actionResults.next(this._actionResults.value),this.updateLoop()}},{key:"updateLoop",value:function(){var e=this;this.update(),"processing"===this._phase.value&&setTimeout(function(){return e.updateLoop()},200)}},{key:"update",value:function(){if("inputting"===this._phase.value)throw new Error("You shouldn't call update in inputting state.");for(;;){if(void 0!==this.currentProcessingAction&&this.currentProcessingAction.step())return this._actionResults.value.push(this.currentProcessingAction.getCurrentAttack()),void this._actionResults.next(this._actionResults.value);if(this.currentProcessingAction=this._actions.value.shift(),this._actions.next(this._actions.value),void 0===this.currentProcessingAction){this.startTurn();break}}}},{key:"cancelTargetSelection",value:function(){this.checkInputting("decideTarget"),this._inputtingAction=void 0,this._inputtingPhase.next("decideAction")}},{key:"cancelActionSelection",value:function(){this.checkInputting("decideAction"),this._currentInputtingBattler=void 0,this._inputtingPhase.next("decideBattler")}},{key:"startTurn",value:function(){this._sideA.onTurnStart(),this._sideB.onTurnStart(),this._phase.next("inputting"),this._inputtingPhase.next("decideBattler")}},{key:"onActionDeleted",value:function(e){this.checkInputting("decideBattler");var t=this._actions.value.findIndex(function(t){return t.id===e}),a=this._actions.value.splice(t,1),n=Object(P.a)(a,1)[0];n.user.side.sp+=n.data.spCost,this._actions.next(this._actions.value)}},{key:"phase",get:function(){return this._phase}},{key:"sideA",get:function(){return this._sideA}},{key:"sideB",get:function(){return this._sideB}},{key:"actions",get:function(){return this._actions}},{key:"inputtingPhase",get:function(){return this._inputtingPhase}},{key:"actionResults",get:function(){return this._actionResults}},{key:"inputtingAction",get:function(){return this._inputtingAction}},{key:"targets",get:function(){return void 0===this._currentInputtingBattler?void 0:this._currentInputtingBattler.side.opponent.battlers}}]),e}(),L=a(16);function W(e){if(void 0===e.battler)return s.a.createElement("td",{onMouseEnter:function(){return e.enter(e.pos)},onMouseLeave:function(){return e.exit(e.pos)}});var t=null,a=e.battler.getCurrentAttribute();return null!==a&&(t=s.a.createElement("span",{className:"icon"},s.a.createElement("i",{className:"fas "+y[a]}))),s.a.createElement("td",{onMouseEnter:function(){return e.enter(e.pos)},onMouseLeave:function(){return e.exit(e.pos)},onClick:function(){return e.onClick(e.battler)}},s.a.createElement("p",{className:"battle-brief-view-name"},e.battler.name),s.a.createElement("p",{className:"battle-brief-view-dp"},e.battler.dp),s.a.createElement("p",{className:"battle-brief-view-icons"},e.battler.isDead()?s.a.createElement("span",{className:"icon"},s.a.createElement("i",{className:"fas fa-skull"})):null,e.battler.isWeakState()?s.a.createElement("span",{className:"icon"},s.a.createElement("i",{className:"fas fa-heart-broken"})):null,t))}function H(e){if(void 0===e.battler)return s.a.createElement("div",{className:"detail-view"});var t=e.battler.getCurrentAttribute();return console.log("BattlerDetailView",e.battler),s.a.createElement("div",{className:"detail-view"},s.a.createElement("p",null,e.battler.name,e.battler.isDead()?s.a.createElement("span",{className:"icon"},s.a.createElement("i",{className:"fas fa-skull"})):null,e.battler.isWeakState()?s.a.createElement("span",{className:"icon"},s.a.createElement("i",{className:"fas fa-heart-broken"})):null),s.a.createElement("p",null,s.a.createElement("b",null,"DP:")," ",e.battler.dp),s.a.createElement("p",null,s.a.createElement("b",null,"\u6297:"),e.battler.defence),null===t?null:s.a.createElement("p",null,s.a.createElement("b",null,C[t])," ",e.battler.getAttributePoint()))}var J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={pos:void 0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onEnterBattler",value:function(e){this.setState({pos:e})}},{key:"onExitBattler",value:function(e){this.setState(function(t){return t.pos===e?{pos:void 0}:{pos:t.pos}})}},{key:"render",value:function(){var e=this,t=this.props.battlers.reduce(function(e,t){return e[t.position]=t,e},{}),a=this.props.isLeft?[0,1]:[1,0],n=void 0===this.state.pos?void 0:t[this.state.pos];return s.a.createElement(s.a.Fragment,null,s.a.createElement("table",{className:"battle-field-view"},s.a.createElement("tbody",null,[0,1,2].map(function(n){return s.a.createElement("tr",{key:n},0!==n||e.props.isLeft?null:s.a.createElement("td",{rowSpan:3,className:"frontline"},s.a.createElement("span",null,"\u524d\u7ebf")),a.map(function(a){return s.a.createElement(W,{pos:2*n+a,key:a,battler:t[2*n+a],enter:function(t){return e.onEnterBattler(t)},exit:function(t){return e.onExitBattler(t)},onClick:e.props.onBattlerClick})}),0===n&&e.props.isLeft?s.a.createElement("td",{rowSpan:3,className:"frontline"},s.a.createElement("span",null,"\u524d\u7ebf")):null)}))),s.a.createElement(H,{battler:n}))}}]),t}(s.a.Component);function F(e){return s.a.createElement("div",{className:"side-view column is-6"+(e.isRed?" red":" blue")},s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("b",null,"HP:")," ",e.side.hp),s.a.createElement("p",null,s.a.createElement("b",null,"AP:")," ",e.side.sp),s.a.createElement(J,{isLeft:e.isRed,battlers:e.side.battlers,onBattlerClick:e.onBattlerClick})))}function z(e){return s.a.createElement("td",{className:e.highlighted?"highlighted":"",onClick:function(){return e.onClick()}},e.name)}var U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={selectedPosition:{left:{0:!1,1:!1,2:!1,3:!1,4:!1,5:!1},right:{0:!1,1:!1,2:!1,3:!1,4:!1,5:!1}}},a.onTargetSelected=a.onTargetSelected.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onTargetSelected",value:function(e,t){this.setState(function(a){var n={left:Object(m.a)({},a.selectedPosition.left),right:Object(m.a)({},a.selectedPosition.right)};return t?n.left[e]=!n.left[e]:n.right[e]=!n.right[e],{selectedPosition:n}})}},{key:"onConfirm",value:function(){var e=function(e){return Object.entries(e).filter(function(e){var t=Object(P.a)(e,2);t[0];return t[1]}).map(function(e){var t=Object(P.a)(e,2),a=t[0];t[1];return Number.parseInt(a)})},t=e(this.state.selectedPosition.left),a=e(this.state.selectedPosition.right);this.props.onTargetSelected({left:t,right:a})}},{key:"render",value:function(){var e=this,t=Array(6).fill(null),a=Array(6).fill(null);return this.props.battlersLeft.forEach(function(e){return t[e.position]=e}),this.props.battlersRight.forEach(function(e){return a[e.position]=e}),s.a.createElement("div",{className:"modal target-view is-active"},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"\u9009\u62e9\u76ee\u6807"),s.a.createElement("button",{className:"delete","aria-label":"close",onClick:function(){return e.props.onClose()}})),s.a.createElement("section",{className:"modal-card-body"},s.a.createElement("table",{className:"target-view-table"},s.a.createElement("tbody",null,[0,1,2].map(function(n){return s.a.createElement("tr",{key:n},[0,1].map(function(a){var i=O(n,a),r=t[i],l=null===r?"":r.name,o=e.state.selectedPosition.left[i];return s.a.createElement(z,{key:a,onClick:function(){return e.onTargetSelected(i,!0)},pos:i,name:l,highlighted:o})}),0===n?s.a.createElement("td",{rowSpan:3,className:"target-view-frontline"},"\u524d\u7ebf"):null,[1,0].map(function(t){var i=O(n,t),r=a[i],l=null===r?"":r.name,o=e.state.selectedPosition.right[i];return s.a.createElement(z,{key:t,onClick:function(){return e.onTargetSelected(i,!1)},pos:i,name:l,highlighted:o})}))})))),s.a.createElement("footer",{className:"modal-card-foot"},s.a.createElement("button",{className:"button is-success",onClick:function(){return e.onConfirm()}},"\u786e\u8ba4"),s.a.createElement("button",{className:"button",onClick:function(){return e.props.onClose()}},"\u53d6\u6d88"))))}}]),t}(s.a.Component);function X(e){var t=null;null!==e.result.attributeDamageResult.attribute&&(t=s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"\u9644\u52a0\u4e86 ",e.result.attributeDamageResult.attributePointAttached," \u70b9 ",C[e.result.attributeDamageResult.attribute]," "),s.a.createElement("p",null,e.result.attributeDamageResult.knockedIntoWeak?"\u6253\u5165\u4e86\u5f31\u70b9\u72b6\u6001":"",e.result.attributeDamageResult.dpDamage>0?"\u9020\u6210\u4e86".concat(e.result.attributeDamageResult.dpDamage,"\u70b9DP\u4f24\u5bb3"):""," ")));var a=null;null!==e.result.damageMultiplierResult&&(a=s.a.createElement("p",null,"\u4f24\u5bb3\u63d0\u5347\u7387\u4e0a\u6da8\u4e86: ",e.result.damageMultiplierResult.multiplierAdded));var n=null;0!==e.result.dpRecoveryResult&&(n=s.a.createElement("p",null,"DP\u56de\u590d\u4e86\uff1a",e.result.dpRecoveryResult," "));var i=null;0!==e.result.spRecoveryResult&&(i=s.a.createElement("p",null,"SP\u56de\u590d\u4e86\uff1a",e.result.spRecoveryResult," "));var r=null;return 0!==e.result.defenceIncreaseResult&&(r=s.a.createElement("p",null,"\u9632\u5fa1\u4e0a\u6da8\u4e86\uff1a",e.result.defenceIncreaseResult)),s.a.createElement("div",{className:"result-view"},s.a.createElement("p",null,e.result.action.user.name," \u5bf9 ",e.result.target.name," \u4f7f\u7528\u4e86 ",e.result.action.data.name),s.a.createElement("p",null,"\u6d88\u8017\u4e86",e.result.hpDamageResult.defended,"\u70b9\u9632\u5fa1"),s.a.createElement("p",null,"\u9020\u6210\u4e86 ",e.result.hpDamageResult.hpDamage," \u70b9\u4f24\u5bb3 ",e.result.hpDamageResult.isDead?"\u5bf9\u9762\u5df2\u6b7b\u4ea1":""),t,a,n,i,r)}function Y(e){return s.a.createElement("p",{className:"action",onClick:function(){return e.onClicked(e.action)}},s.a.createElement("span",{className:"name"},e.action.name),"\xa0",s.a.createElement("span",{className:"sp-cost"},s.a.createElement("b",null,"SP\u6d88\u8017:"),e.action.spCost))}function $(e){return s.a.createElement("div",{className:"actions-selection modal is-active"},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"\u9009\u62e9\u884c\u52a8"),s.a.createElement("button",{className:"delete","aria-label":"close",onClick:function(){return e.onActionSelectionClosed()}})),s.a.createElement("section",{className:"modal-card-body"},e.actionDatas.map(function(t,a){return s.a.createElement(Y,{action:t,key:a,onClicked:function(){return e.onActionClicked(t)}})}))))}function q(e){return s.a.createElement("div",{className:"action-records"},e.actions.map(function(t){return s.a.createElement("p",{key:t.id,className:"action-record"},s.a.createElement("span",null,t.user.name),s.a.createElement("span",{className:"action-record-action-use"},"\u4f7f\u7528\u4e86"),s.a.createElement("span",{className:"action-record-action-name"},t.data.name),s.a.createElement("button",{className:"delete action-record-delete",onClick:function(a){a.preventDefault(),e.onActionDeleted(t.id)}},"X"))}))}var G=a(13),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).subscription=void 0,a.battleVM=void 0,a.previousProps=void 0,a.state={phase:void 0,inputtingPhase:void 0,actionResults:[],actions:[]},a.onActionClicked=a.onActionClicked.bind(Object(h.a)(a)),a.onTargetSelected=a.onTargetSelected.bind(Object(h.a)(a)),a.onBattlerSelected=a.onBattlerSelected.bind(Object(h.a)(a)),a.onTargetSelectionClosed=a.onTargetSelectionClosed.bind(Object(h.a)(a)),a.onActionSelectionClosed=a.onActionSelectionClosed.bind(Object(h.a)(a)),a.onActionDeleted=a.onActionDeleted.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"createVM",value:function(){var e=this;this.subscription.unsubscribe(),this.subscription=new L.a,this.battleVM=void 0,void 0!==this.props.sideA&&void 0!==this.props.sideB&&(this.battleVM=new V(this.props.sideA,this.props.sideB),this.battleVM.phase.subscribe(function(t){return e.setState({phase:t})}),this.battleVM.inputtingPhase.subscribe(function(t){return e.setState({inputtingPhase:t})}),this.battleVM.actionResults.subscribe(function(t){return e.setState({actionResults:t})}),this.battleVM.actions.subscribe(function(t){return e.setState({actions:t})}))}},{key:"recreateBattleVM",value:function(){this.previousProps!==this.props&&(this.previousProps=this.props,void 0!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0),this.battleVM=void 0,void 0!==this.props.sideA&&void 0!==this.props.sideB&&(this.battleVM=new V(this.props.sideA,this.props.sideB)))}},{key:"registerSubscriptions",value:function(){var e=this;if(void 0===this.subscription&&void 0!==this.battleVM){var t=[];t[0]=this.battleVM.phase.subscribe(function(t){return e.setState({phase:t})}),t[1]=this.battleVM.inputtingPhase.subscribe(function(t){return e.setState({inputtingPhase:t})}),t[2]=this.battleVM.actionResults.subscribe(function(t){return e.setState({actionResults:t})}),t[3]=this.battleVM.actions.subscribe(function(t){return e.setState({actions:t})}),this.subscription=new L.a,t.forEach(function(t){return e.subscription.add(t)})}}},{key:"componentDidMount",value:function(){this.registerSubscriptions()}},{key:"componentDidUpdate",value:function(){this.registerSubscriptions()}},{key:"onActionClicked",value:function(e){this.battleVM.addAction(e)}},{key:"onTargetSelected",value:function(e){this.battleVM.setTargets(e)}},{key:"onBattlerSelected",value:function(e){this.battleVM.selectBattler(e)}},{key:"onEndTurn",value:function(){this.battleVM.endInputting()}},{key:"onTargetSelectionClosed",value:function(){this.battleVM.cancelTargetSelection()}},{key:"onActionSelectionClosed",value:function(){this.battleVM.cancelActionSelection()}},{key:"onActionDeleted",value:function(e){this.battleVM.onActionDeleted(e)}},{key:"render",value:function(){var e=this;if(this.recreateBattleVM(),void 0===this.battleVM)return s.a.createElement(G.a,{to:"/"});var t=null;console.log(this.state.inputtingPhase),void 0!==this.props.actionDatas&&"decideAction"===this.state.inputtingPhase&&(t=s.a.createElement($,{onActionClicked:this.onActionClicked,actionDatas:this.props.actionDatas,onActionSelectionClosed:this.onActionSelectionClosed}));var a=null;return"decideTarget"===this.state.inputtingPhase&&(a=s.a.createElement(U,{battlersLeft:this.battleVM.sideA.battlers,battlersRight:this.battleVM.sideB.battlers,onTargetSelected:this.onTargetSelected,onClose:this.onTargetSelectionClosed})),s.a.createElement("div",{className:"container battle-view"},s.a.createElement("div",{className:"columns"},s.a.createElement(F,{isRed:!0,side:this.battleVM.sideA,onBattlerClick:this.onBattlerSelected}),s.a.createElement(F,{isRed:!1,side:this.battleVM.sideB,onBattlerClick:this.onBattlerSelected})),s.a.createElement(q,{actions:this.state.actions,onActionDeleted:this.onActionDeleted}),s.a.createElement("div",{className:"control"},"inputting"===this.state.phase?s.a.createElement("button",{className:"button",onClick:function(){return e.onEndTurn()}},"\u7ed3\u675f\u56de\u5408"):null),s.a.createElement("div",{className:"modal-container ".concat(null!==t||null!==a?"show":"")},null!==t?t:s.a.createElement(s.a.Fragment,null),null!==a?a:s.a.createElement(s.a.Fragment,null)),this.state.actionResults.map(function(e,t){return s.a.createElement(X,{key:t,result:e})}))}}]),t}(s.a.Component),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={sideA:void 0,sideB:void 0,actions:[]},a.onComplete=a.onComplete.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onComplete",value:function(e,t,a){this.setState({sideA:e,sideB:t,actions:a})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(G.b,{render:function(t){return s.a.createElement(I,Object.assign({onComplete:e.onComplete},t))},path:"/",exact:!0}),s.a.createElement(G.b,{render:function(t){return s.a.createElement(K,Object.assign({},t,{sideA:e.state.sideA,sideB:e.state.sideB,actionDatas:e.state.actions}))},path:"/battle"}))}}]),t}(s.a.Component),Z=function(){return s.a.createElement(Q,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(43),a(44);l.a.render(s.a.createElement(R.a,null,s.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.8b25e4f0.chunk.js.map